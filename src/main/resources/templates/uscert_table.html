<html>

<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta charset="UTF-8" />
<csrf disabled="true" />

<!-- Bootstrap -->
<link href="node_modules/bootstrap/dist/css/bootstrap.min.css"
	rel="stylesheet" />

<!-- Custom CSS -->
<link href="node_modules/admin-lte/dist/css/AdminLTE.min.css"
	rel="stylesheet" />
<link rel="stylesheet"
	href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />

<link rel="stylesheet" href="css/uscert_table.css" />

<script src="node_modules/jquery/dist/jquery.min.js"></script>
<script src="node_modules/angular/angular.min.js"></script>
<script src="node_modules/admin-lte/dist/js/app.min.js"></script>
</head>

<body>
	<div id="wrapper" class="container-fluid" ng-app="myApp"
		ng-controller="myCtrl">
		<div class="col-lg-12 row ">
			<div class="col-lg-3">
				<img src="top-cap02.png" />
			</div>
			<div class="col-lg-6">
				<h3>弱點情報分析</h3>
			</div>
			<div class="col-lg-3">
				<h3>我是：{{myRoleName[myRole]}}</h3>
			</div>
		</div>
		<div class="col-lg-12">
			<div class="box-header">
				<h4>US Cert弱點整理</h4>
			</div>
			<div class="panel-body">
				<table class="table table-bordered table-hover table-condensed ">
					<thead>
						<tr>
							<th></th>
							<th>設備商</th>
							<th>產品</th>
							<th>敘述</th>
							<th>分數</th>
							<th>發佈日期</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="item in posts">
							<td>{{$index + 1}}</td>
							<td class="success">{{item.vendor}}</td>
							<td class="success">{{item.product}}</td>
							<td class="info">{{item.Description}}
								<div ng-if="showReviewerBeforeReleased(item)">	    
									<div ng-show="myRole.indexOf('ROLE_REVIEWER') > -1">
										<button class="btn btn-success btn-lg"
											ng-click="clickApprove(item)">核准</button>
										<button class="btn btn-danger btn-lg"
											ng-click="clickRelease(item)">發佈</button>
									</div>
								</div>

								<div>
									<div class="form-group" ng-if="showWriterBeforeSubmit(item) || showReviewerBeforeReleased(item)">
										<textarea class="form-control" rows="5" ng-model="item.chi">{{item.chi}}</textarea>
								    </div>
								    
								    <div class="form-group" ng-if="showWriterBeforeSubmit(item)">
										<button class="btn" ng-click="clickSave(item)">暫存</button>
										<button class="btn btn-success" ng-click="clickSubmit(item)">送出</button>
									</div>
									<div ng-if="showWriterAfterSubmit(item) || showReviewerAfterReleased(item)">
										<p class="text-red">{{item.chi}}</p></div>
								</div>
							</td>
							<td>{{item.Score}}</td>
							<td>{{item.Published}}</td>
						</tr>
					</tbody>
				</table>
			</div>

		</div>

	</div>

	<script src="js/uscert_table.js"></script>
</body>

</html>
